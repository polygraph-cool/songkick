!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}var u=n(9),i=a(u),o=n(7),f=r(o),s=n(8),c=a(s),l=n(5),d=a(l),v=(window.location.hostname.indexOf("localhost")>-1,f.select(".container")),h=0,p=function(){var t=f.select("html"),e=t.getAttribute("data-version");console.log("version: "+e.slice(5,e.length))},m=function(){var t=f.select("html");c.default.any()&&f.addClass(t,"is-mobile")},M=function(){var t=v.offsetWidth;h!==t&&(h=t)},g=function(){p(),m(),window.addEventListener("resize",(0,i.default)(M,150)),d.default.init()};g()},function(t,e,n){var r={},a=n(2).GLMAT_ARRAY_TYPE,u=n(2).GLMAT_RANDOM;r.create=function(){var t=new a(2);return t[0]=0,t[1]=0,t},r.clone=function(t){var e=new a(2);return e[0]=t[0],e[1]=t[1],e},r.fromValues=function(t,e){var n=new a(2);return n[0]=t,n[1]=e,n},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},r.set=function(t,e,n){return t[0]=e,t[1]=n,t},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},r.div=r.divide,r.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},r.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},r.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},r.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},r.normalize=function(t,e){var n=e[0],r=e[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},r.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},r.lerp=function(t,e,n,r){var a=e[0],u=e[1];return t[0]=a+r*(n[0]-a),t[1]=u+r*(n[1]-u),t},r.random=function(t,e){e=e||1;var n=2*u()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},r.transformMat2=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a,t[1]=n[1]*r+n[3]*a,t},r.transformMat2d=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a+n[4],t[1]=n[1]*r+n[3]*a+n[5],t},r.transformMat3=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[3]*a+n[6],t[1]=n[1]*r+n[4]*a+n[7],t},r.transformMat4=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[4]*a+n[12],t[1]=n[1]*r+n[5]*a+n[13],t},r.forEach=function(){var t=r.create();return function(e,n,r,a,u,i){var o,f;for(n||(n=2),r||(r=0),f=a?Math.min(a*n+r,e.length):e.length,o=r;o<f;o+=n)t[0]=e[o],t[1]=e[o+1],u(t,t,i),e[o]=t[0],e[o+1]=t[1];return e}}(),r.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},t.exports=r},function(t,e){if(!n)var n=1e-6;if(!r)var r="undefined"!=typeof Float32Array?Float32Array:Array;if(!a)var a=Math.random;var u={};u.setMatrixArrayType=function(t){r=t};var i=Math.PI/180;u.toRadian=function(t){return t*i},t.exports={GLMAT_EPSILON:n,GLMAT_ARRAY_TYPE:r,GLMAT_RANDOM:a,glMatrix:u}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),u=r(a);u.default.limit=function(t,e,n){var r=e[0],a=e[1],i=r*r+a*a;return i>n*n&&i>0&&(t[0]=r,t[1]=a,u.default.normalize(t,t),u.default.scale(t,t,n)),t};var i=function(t){var e=u.default.create(),n=u.default.create(),r=u.default.create(),a=u.default.create(),i=u.default.create(),o=u.default.create(),f=u.default.create(),s=u.default.create(),c=u.default.create(),l=u.default.create(),d=u.default.create(),v=u.default.create(),h=u.default.create(),p=void 0,m=void 0,M=void 0,g=void 0,y=void 0,b=void 0,_=void 0,w=function(t){m=t,y=t,M=Math.random()/t+1,g=t/1*.1},A=function(t){_=t},x=function(){return p},P=function(){return y},T=function(t){var e=q(_),n=N(t);u.default.scale(e,e,1),u.default.scale(n,n,1.5);var r=u.default.add(u.default.create(),e,n);u.default.scale(r,r,1/m),L(r)},L=function(t){u.default.add(h,h,t)},O=function(){j()},j=function(){u.default.add(b,b,h),u.default.limit(b,b,M),u.default.add(p,p,b),l.set([0,0]),h=l},q=function(){e.set(b),u.default.normalize(e,e),u.default.scale(e,e,25),s.set([0,0]),u.default.add(s,s,p),u.default.add(s,s,e);for(var t=null,i=1e6,o=_.points.length;o--;){r.set(_.points[o]),a.set(_.points[(o+1)%_.points.length]);var f=E(s,r,a);n.set(a),u.default.sub(n,n,r),(f[0]<Math.min(r[0],a[0])||f[0]>Math.max(r[0],a[0])||f[1]<Math.min(r[1],a[1])||f[1]>Math.max(r[1],a[1]))&&(f.set(a),r.set(_.points[(o+1)%_.points.length]),a.set(_.points[(o+2)%_.points.length]),n.set(a),u.default.sub(n,n,r));var l=u.default.dist(s,f);l<i&&(i=l,t=f,u.default.normalize(n,n),u.default.scale(n,n,25),u.default.add(t,t,n))}return i>_.radius/5?R(t):(c.set([0,0]),c)},E=function(t,e,n){return i.set(t),o.set(n),u.default.sub(i,i,e),u.default.sub(o,o,e),u.default.normalize(o,o),u.default.scale(o,o,u.default.dot(i,o)),f.set(e),u.default.add(u.default.create(),f,o)},R=function(t){return u.default.sub(t,t,p),S(t)},N=function(t){var e=2.25*y,n=0;d.set([0,0]);for(var r=t.length;r--;){var a=t[r],i=p;if(i=u.default.dist(i,a.getLocation()),i>0&&i<e){var o;v.set([0,0]),o=u.default.sub(v,p,a.getLocation()),u.default.normalize(o,o),u.default.scale(o,o,1/i),u.default.add(d,d,o),n++}}return n>0&&u.default.scale(d,d,1/n),u.default.len(d)>0&&S(d),d},S=function t(e){var t;return u.default.normalize(e,e),u.default.scale(e,e,M),t=e,u.default.sub(t,t,b),u.default.limit(t,t,g),t},z=function(){return p=t.location,b=u.default.fromValues(1,1),w(t.mass),A(t.path),{setMass:w,setPath:A,getLocation:x,getRadius:P,applyBehaviors:T,run:O}};return z()};e.default=i},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),u=r(a),i=n(6),o=r(i),f=n(3),s=r(f),c=0,l=Date.now(),d=null,v=d3.select(".fps"),h=document.querySelector(".flock2 canvas"),p=h.getContext("2d"),m=.8*window.innerHeight,M=.8*window.innerHeight;h.style.width=m+"px",h.style.height=M+"px",h.width=2*m,h.height=2*M,p.scale(2,2);var g=function(){var t=d3.select(".flock2 svg");t.attr("width",m).attr("height",M)},y=function(t,e){t.radius=20;var n=function(){var n=10;d3.range(n).forEach(function(r){var a=r/n*Math.PI*2,u=Math.cos(a)*m/2*e,i=Math.sin(a)*M/2*e;t.addPoint(m/2+u,M/2+i)})};n()},b=function(){function t(){p.clearRect(0,0,m,M);for(var e=a;e--;){i[e].applyBehaviors(i),i[e].run();var n=i[e].getLocation(),r=i[e].getRadius();p.fillStyle="rgba(0,0,0,0.2)",p.beginPath(),p.arc(n[0],n[1],r,0,2*Math.PI,!1),p.closePath(),p.fill()}d=Date.now();var u=Math.round(1e3/(d-l));l=d,v.text(u),requestAnimationFrame(t)}var e=new o.default(p);y(e,.9);var n=new o.default(p);y(n,.5);var r=new o.default(p);y(r,.1);var a=400,i=d3.range(a).map(function(t){var n=2,r=Math.random()*Math.PI*2,a=Math.cos(r)*m*.9/2+m/2,i=Math.sin(r)*M*.9/2+M/2,o=u.default.fromValues(a,i);return(0,s.default)({location:o,mass:n,path:e})});t();var f=function t(){c++,c<10?(i[c].setPath(n),i[c].setMass(4),setTimeout(t,1e3)):(i[1].setPath(r),i[1].setMass(7))};setTimeout(f,4e3),g()};e.default={init:b}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(4),u=r(a),i=function(){u.default.init()};e.default={init:i}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),u=r(a),i=function(t){this.points=[],this.radius=0,this.addPoint=function(t,e){var n=u.default.fromValues(t,e);this.points.push(n)},this.display=function(){t.lineJoin="round",t.lineCap="round",t.strokeStyle="#e7e7e7",t.lineWidth=2*this.radius,t.beginPath();for(var e=0;e<this.points.length;e++)t.lineTo(this.points[e][0],this.points[e][1]);t.closePath(),t.stroke()}};e.default=i},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){for(var e=t.length,n=[],r=0;r<e;r++)n.push(t[r]);return n},r=function(t){return document.querySelector(t)},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n(e.querySelectorAll(t))},u=function(t,e){return n(t.querySelectorAll(e))},i=function(t,e){return t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},o=function(t,e){return t.classList?t.classList.add(e):t.className+=" "+e},f=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},s=function(t){document.body.scrollTop?document.body.scrollTop=t.offsetTop+1:document.documentElement.scrollTop=t.offsetTop+1};e.select=r,e.selectAll=a,e.find=u,e.removeClass=i,e.addClass=o,e.hasClass=f,e.jumpTo=s},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return n.android()||n.blackberry()||n.ios()||n.opera()||n.windows()}};e.default=n},function(t,e){(function(e){function n(t,e,n){function a(e){var n=p,r=m;return p=m=void 0,x=e,g=t.apply(r,n)}function u(t){return x=t,y=setTimeout(c,e),P?a(t):g}function f(t){var n=t-A,r=t-x,a=e-n;return T?_(a,M-r):a}function s(t){var n=t-A,r=t-x;return void 0===A||n>=e||n<0||T&&r>=M}function c(){var t=w();return s(t)?l(t):void(y=setTimeout(c,f(t)))}function l(t){return y=void 0,L&&p?a(t):(p=m=void 0,g)}function d(){void 0!==y&&clearTimeout(y),x=0,p=A=m=y=void 0}function v(){return void 0===y?g:l(w())}function h(){var t=w(),n=s(t);if(p=arguments,m=this,A=t,n){if(void 0===y)return u(A);if(T)return y=setTimeout(c,e),a(A)}return void 0===y&&(y=setTimeout(c,e)),g}var p,m,M,g,y,A,x=0,P=!1,T=!1,L=!0;if("function"!=typeof t)throw new TypeError(o);return e=i(e)||0,r(n)&&(P=!!n.leading,T="maxWait"in n,M=T?b(i(n.maxWait)||0,e):M,L="trailing"in n?!!n.trailing:L),h.cancel=d,h.flush=v,h}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return!!t&&"object"==typeof t}function u(t){return"symbol"==typeof t||a(t)&&y.call(t)==s}function i(t){if("number"==typeof t)return t;if(u(t))return f;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(c,"");var n=d.test(t);return n||v.test(t)?h(t.slice(2),n?2:8):l.test(t)?f:+t}var o="Expected a function",f=NaN,s="[object Symbol]",c=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,v=/^0o[0-7]+$/i,h=parseInt,p="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,M=p||m||Function("return this")(),g=Object.prototype,y=g.toString,b=Math.max,_=Math.min,w=function(){return M.Date.now()};t.exports=n}).call(e,function(){return this}())}]);