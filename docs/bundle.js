!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}var i=n(10),o=a(i),u=n(7),c=r(u),f=n(8),l=a(f),s=n(5),d=a(s),v=(window.location.hostname.indexOf("localhost")>-1,c.select(".container")),h=0,p=function(){var t=c.select("html"),e=t.getAttribute("data-version");console.log("version: "+e.slice(5,e.length))},m=function(){var t=c.select("html");l.default.any()&&c.addClass(t,"is-mobile")},g=function(){var t=v.offsetWidth;h!==t&&(h=t)},M=function(){p(),m(),window.addEventListener("resize",(0,o.default)(g,150)),d.default.init()};M()},function(t,e,n){var r={},a=n(2).GLMAT_ARRAY_TYPE,i=n(2).GLMAT_RANDOM;r.create=function(){var t=new a(2);return t[0]=0,t[1]=0,t},r.clone=function(t){var e=new a(2);return e[0]=t[0],e[1]=t[1],e},r.fromValues=function(t,e){var n=new a(2);return n[0]=t,n[1]=e,n},r.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},r.set=function(t,e,n){return t[0]=e,t[1]=n,t},r.add=function(t,e,n){return t[0]=e[0]+n[0],t[1]=e[1]+n[1],t},r.subtract=function(t,e,n){return t[0]=e[0]-n[0],t[1]=e[1]-n[1],t},r.sub=r.subtract,r.multiply=function(t,e,n){return t[0]=e[0]*n[0],t[1]=e[1]*n[1],t},r.mul=r.multiply,r.divide=function(t,e,n){return t[0]=e[0]/n[0],t[1]=e[1]/n[1],t},r.div=r.divide,r.min=function(t,e,n){return t[0]=Math.min(e[0],n[0]),t[1]=Math.min(e[1],n[1]),t},r.max=function(t,e,n){return t[0]=Math.max(e[0],n[0]),t[1]=Math.max(e[1],n[1]),t},r.scale=function(t,e,n){return t[0]=e[0]*n,t[1]=e[1]*n,t},r.scaleAndAdd=function(t,e,n,r){return t[0]=e[0]+n[0]*r,t[1]=e[1]+n[1]*r,t},r.distance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return Math.sqrt(n*n+r*r)},r.dist=r.distance,r.squaredDistance=function(t,e){var n=e[0]-t[0],r=e[1]-t[1];return n*n+r*r},r.sqrDist=r.squaredDistance,r.length=function(t){var e=t[0],n=t[1];return Math.sqrt(e*e+n*n)},r.len=r.length,r.squaredLength=function(t){var e=t[0],n=t[1];return e*e+n*n},r.sqrLen=r.squaredLength,r.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},r.normalize=function(t,e){var n=e[0],r=e[1],a=n*n+r*r;return a>0&&(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a),t},r.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},r.cross=function(t,e,n){var r=e[0]*n[1]-e[1]*n[0];return t[0]=t[1]=0,t[2]=r,t},r.lerp=function(t,e,n,r){var a=e[0],i=e[1];return t[0]=a+r*(n[0]-a),t[1]=i+r*(n[1]-i),t},r.random=function(t,e){e=e||1;var n=2*i()*Math.PI;return t[0]=Math.cos(n)*e,t[1]=Math.sin(n)*e,t},r.transformMat2=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a,t[1]=n[1]*r+n[3]*a,t},r.transformMat2d=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[2]*a+n[4],t[1]=n[1]*r+n[3]*a+n[5],t},r.transformMat3=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[3]*a+n[6],t[1]=n[1]*r+n[4]*a+n[7],t},r.transformMat4=function(t,e,n){var r=e[0],a=e[1];return t[0]=n[0]*r+n[4]*a+n[12],t[1]=n[1]*r+n[5]*a+n[13],t},r.forEach=function(){var t=r.create();return function(e,n,r,a,i,o){var u,c;for(n||(n=2),r||(r=0),c=a?Math.min(a*n+r,e.length):e.length,u=r;u<c;u+=n)t[0]=e[u],t[1]=e[u+1],i(t,t,o),e[u]=t[0],e[u+1]=t[1];return e}}(),r.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},t.exports=r},function(t,e){if(!n)var n=1e-6;if(!r)var r="undefined"!=typeof Float32Array?Float32Array:Array;if(!a)var a=Math.random;var i={};i.setMatrixArrayType=function(t){r=t};var o=Math.PI/180;i.toRadian=function(t){return t*o},t.exports={GLMAT_EPSILON:n,GLMAT_ARRAY_TYPE:r,GLMAT_RANDOM:a,glMatrix:i}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),i=r(a),o=Math.PI;2*Math.PI;i.default.limit=function(t,e,n){var r=e[0],a=e[1],o=r*r+a*a;return o>n*n&&o>0&&(t[0]=r,t[1]=a,i.default.normalize(t,t),i.default.scale(t,t,n)),t};var u=function(t){var e=(i.default.create(),i.default.create(),i.default.create(),i.default.create(),i.default.create(),i.default.create(),i.default.create(),i.default.create(),i.default.create(),i.default.create()),n=i.default.create(),r=i.default.create(),a=i.default.create(),u=void 0,c=void 0,f=void 0,l=void 0,s=void 0,d=void 0,v=void 0,h=void 0,p=void 0,m=void 0,g=function(t){c=t,s=t,f=Math.random()/t+.5,l=t/2*.1},M=function(t){v=t,h=v.points.length,p=d3.scaleQuantile().domain([-o,o]).range(d3.range(-h/2,h/2,1))},y=function(){return u},b=function(){return s},x=function(t){var e=P(),n=O(t);i.default.scale(e,e,1),i.default.scale(n,n,1.5);var r=i.default.add(i.default.create(),e,n);i.default.scale(r,r,1/c),_(r)},_=function(t){i.default.add(a,a,t)},A=function(){w()},w=function(){i.default.add(d,d,a),i.default.limit(d,d,f),i.default.add(u,u,d),e.set([0,0]),a=e},P=function(){var t=Math.atan2(u[0]-m[0],u[1]-m[1]),e=p(t),n=h/4,r=h/2,a=null;a=e<0?n-e:e>n?h-n+(r-e):n-e;var o=i.default.fromValues(v.points[a][0],v.points[a][1]);return L(o)},L=function(t){return i.default.sub(t,t,u),T(t)},O=function(t){var e=2.25*s,a=0;n.set([0,0]);for(var o=t.length;o--;){var c=t[o],f=u;if(f=i.default.dist(f,c.getLocation()),f>0&&f<e){var l;r.set([0,0]),l=i.default.sub(r,u,c.getLocation()),i.default.normalize(l,l),i.default.scale(l,l,1/f),i.default.add(n,n,l),a++}}return a>0&&i.default.scale(n,n,1/a),i.default.len(n)>0&&T(n),n},T=function t(e){var t;return i.default.normalize(e,e),i.default.scale(e,e,f),t=e,i.default.sub(t,t,d),i.default.limit(t,t,l),t},j=function(){return u=t.location,d=i.default.fromValues(1,1),m=t.center,g(t.mass),M(t.path),{setMass:g,setPath:M,getLocation:y,getRadius:b,applyBehaviors:x,run:A,index:t.index}};return j()};e.default=u},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function a(){w=Math.min(.8*window.innerHeight,P.node().offsetWidth),P.style("width",w+"px").style("height",w+"px"),L.attr("width",2*w).attr("height",2*w).style("width",w+"px").style("height",w+"px"),O.scale(2,2)}function i(){var t=P.select("svg");t.attr("width",w).attr("height",w);var e=12,n=w/2,r=d3.arc().startAngle(Math.PI).endAngle(3*Math.PI),a=t.selectAll(".ring").data(T),i=a.enter().append("g").attr("class",function(t,e){return"ring ring-"+e});i.append("path").attr("id",function(t,e){return"text-"+e}).attr("transform","translate("+n+", "+n+")").attr("d",function(t){return r({innerRadius:0,outerRadius:n*t.factor+e})}),i.append("text").style("text-anchor","middle").attr("transform","translate(0,-"+.25*e+")").append("textPath").attr("xlink:href",function(t,e){return"#text-"+e}).attr("startOffset","50%").text(function(t){return""+t.capacity})}function o(t,e){t.radius=20,d3.range(_).forEach(function(n){var r=n/_*Math.PI*2,a=Math.cos(r)*w/2*e,i=Math.sin(r)*w/2*e;t.addPoint(w/2+a,w/2+i)})}function u(){j=T.map(function(t){var e=new p.default(O);return o(e,t.factor),e})}function c(t){for(var e=t.length,n=0;n<e;n++){var r=t[n],a=r.getLocation();r.applyBehaviors(t),r.run();var i=r.getRadius();O.drawImage(q,a[0]-i,a[1]-i,2*i,2*i)}}function f(){O.clearRect(0,0,w,w);for(var t=x,e=d3.range(A).map(function(t){return d3.range(A).map(function(t){return[]})});t--;){var n=R[t],r=n.getLocation(),a=Math.floor(r[0]/w*A),i=Math.floor(r[1]/w*A);e[a][i].push(n)}for(var o=A;o--;)for(var u=A;u--;)b&&(O.strokeStyle="#ccc",O.strokeRect(o/A*w,u/A*w,w/A,w/A)),c(e[o][u]);b&&d3.range(_).forEach(function(t){var e=t/_*Math.PI*2,n=Math.cos(e)*w/2*.9,r=Math.sin(e)*w/2*.9;O.fillStyle="red",O.fillRect(w/2+n,w/2+r,4,4)}),requestAnimationFrame(f)}function l(){R=d3.range(x).map(function(t){var e=2,n=Math.random()*Math.PI*2,r=Math.cos(n)*w*T[0].factor/2+w/2,a=Math.sin(n)*w*T[0].factor/2+w/2,i=v.default.fromValues(r,a);return(0,g.default)({index:t,location:i,mass:e,path:j[0],center:[w/2,w/2]})})}function s(){a(),u(),i(),l();(0,y.default)("assets/filled_circle.png",function(t,e){q=e,f()})}Object.defineProperty(e,"__esModule",{value:!0});var d=n(1),v=r(d),h=n(6),p=r(h),m=n(3),g=r(m),M=n(9),y=r(M),b=!1,x=1e3,_=16,A=20,w=0,P=d3.select(".made__chart"),L=P.select("canvas"),O=L.node().getContext("2d"),T=[{capacity:"500 person capacity",factor:.9},{capacity:"1,000",factor:.6},{capacity:"10,000",factor:.3}],j=[],R=[],q=null;e.default={init:s}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(4),i=r(a),o=!0,u=d3.select(".test"),c=function(){u.text(window.scrollY),o=!0},f=function(){i.default.init(),window.addEventListener("scroll",function(){o&&(o=!1,requestAnimationFrame(c))})};e.default={init:f}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(1),i=r(a),o=function(t){this.points=[],this.radius=0,this.addPoint=function(t,e){var n=i.default.fromValues(t,e);this.points.push(n)},this.display=function(){t.lineJoin="round",t.lineCap="round",t.strokeStyle="#e7e7e7",t.lineWidth=2*this.radius,t.beginPath();for(var e=0;e<this.points.length;e++)t.lineTo(this.points[e][0],this.points[e][1]);t.closePath(),t.stroke()}};e.default=o},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){for(var e=t.length,n=[],r=0;r<e;r++)n.push(t[r]);return n},r=function(t){return document.querySelector(t)},a=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;return n(e.querySelectorAll(t))},i=function(t,e){return n(t.querySelectorAll(e))},o=function(t,e){return t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},u=function(t,e){return t.classList?t.classList.add(e):t.className+=" "+e},c=function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)},f=function(t){document.body.scrollTop?document.body.scrollTop=t.offsetTop+1:document.documentElement.scrollTop=t.offsetTop+1};e.select=r,e.selectAll=a,e.find=i,e.removeClass=o,e.addClass=u,e.hasClass=c,e.jumpTo=f},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={android:function(){return navigator.userAgent.match(/Android/i)},blackberry:function(){return navigator.userAgent.match(/BlackBerry/i)},ios:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},opera:function(){return navigator.userAgent.match(/Opera Mini/i)},windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return n.android()||n.blackberry()||n.ios()||n.opera()||n.windows()}};e.default=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t,e){var n=new Image;n.onload=function(){return e(null,n)},n.onerror=function(){return e("error loading image: "+t)},n.src=t};e.default=n},function(t,e){(function(e){function n(t,e,n){function a(e){var n=p,r=m;return p=m=void 0,w=e,M=t.apply(r,n)}function i(t){return w=t,y=setTimeout(l,e),P?a(t):M}function c(t){var n=t-A,r=t-w,a=e-n;return L?x(a,g-r):a}function f(t){var n=t-A,r=t-w;return void 0===A||n>=e||n<0||L&&r>=g}function l(){var t=_();return f(t)?s(t):void(y=setTimeout(l,c(t)))}function s(t){return y=void 0,O&&p?a(t):(p=m=void 0,M)}function d(){void 0!==y&&clearTimeout(y),w=0,p=A=m=y=void 0}function v(){return void 0===y?M:s(_())}function h(){var t=_(),n=f(t);if(p=arguments,m=this,A=t,n){if(void 0===y)return i(A);if(L)return y=setTimeout(l,e),a(A)}return void 0===y&&(y=setTimeout(l,e)),M}var p,m,g,M,y,A,w=0,P=!1,L=!1,O=!0;if("function"!=typeof t)throw new TypeError(u);return e=o(e)||0,r(n)&&(P=!!n.leading,L="maxWait"in n,g=L?b(o(n.maxWait)||0,e):g,O="trailing"in n?!!n.trailing:O),h.cancel=d,h.flush=v,h}function r(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return!!t&&"object"==typeof t}function i(t){return"symbol"==typeof t||a(t)&&y.call(t)==f}function o(t){if("number"==typeof t)return t;if(i(t))return c;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(l,"");var n=d.test(t);return n||v.test(t)?h(t.slice(2),n?2:8):s.test(t)?c:+t}var u="Expected a function",c=NaN,f="[object Symbol]",l=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,d=/^0b[01]+$/i,v=/^0o[0-7]+$/i,h=parseInt,p="object"==typeof e&&e&&e.Object===Object&&e,m="object"==typeof self&&self&&self.Object===Object&&self,g=p||m||Function("return this")(),M=Object.prototype,y=M.toString,b=Math.max,x=Math.min,_=function(){return g.Date.now()};t.exports=n}).call(e,function(){return this}())}]);